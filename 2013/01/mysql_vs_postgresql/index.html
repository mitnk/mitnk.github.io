<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <link rel="shortcut icon" href="/media/favicon.ico" type="image/x-icon" />
  <link type="text/css" rel="stylesheet" href="/media/css/main.css" />
  <link type="text/css" rel="stylesheet" href="/media/css/paginator.css" />

  <link type="text/css" rel="stylesheet" href="/media/css/pygments.css" />


  <title>Mitnk's Blog</title>
</head>

<body>
<div id="header">
    <div class="wrapper">
        <p class="title">Mitnk's Blog</p>
        <p>Welcome here.</p>
    </div>
</div>

<div id="wrapper">
    <div id="menu">
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/about/">About</a></li>
            <!--
            <li><a href="/category/">Archives</a></li>
            -->
            <li> <div id="header-search">
<form id="cse-form" action="http://www.google.com/cse">
  <input type="hidden" name="siteurl" value="mitnk.com" />
  <input type="hidden" value="001178881884595255196:zxbbdpwksnw" name="cx" />
  <input type="text" id="cse-input" value="Search" name='q' onFocus="enter_search_box()" onBlur="leave_search_box()" />
</form>
</div>
 </li>
        </ul>
    </div>

    <div id="content">
        
<div class="entry">
    <article itemtype="http://schema.org/Blog">
        <h1 class="entry-title">Mysql Vs Postgresql</h1>
        <div class="entry-content">
            <p>ä¸ºäº†å¼„æ˜ç™½PostgreSQLå’ŒMySQLçš„å·®åˆ«ï¼Œæˆ‘æœç´¢äº†å…³é”®å­—ï¼šMySQL vs PostgreSQLï¼Œå¹¶çœ‹äº†ç¬¬ä¸€é¡µçš„å‡ ä¸ªæ–‡ç« ã€‚ä»¥ä¸‹æ˜¯ç®€å•æ€»ç»“ï¼š</p>
<h2>MySQLä¸PostgreSQLçš„åŒºåˆ«</h2>
<p>MySQLæ˜¯åº”ç”¨å¼€å‘è€…åˆ›å»ºå‡ºæ¥çš„DBMSï¼›è€ŒPostgreSQLæ˜¯ç”±æ•°æ®åº“å¼€å‘è€…åˆ›å»ºå‡ºæ¥çš„DBMS [1]ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼ŒMySQLå€¾å‘äºä½¿ç”¨è€…çš„è§’åº¦ï¼Œå›ç­”çš„é—®é¢˜æ˜¯ â€œä½ æƒ³è§£å†³çš„æ˜¯ä»€ä¹ˆé—®é¢˜â€ï¼›è€ŒPostgreSQLå€¾å‘äºç†è®ºè§’åº¦ï¼Œå›ç­”çš„é—®é¢˜æ˜¯ â€œæ•°æ®åº“åº”è¯¥å¦‚ä½•æ¥è§£å†³é—®é¢˜â€ [2]ã€‚</p>
<p>MySQLä¸€èˆ¬ä¼šå°†æ•°æ®åˆæ³•æ€§éªŒè¯äº¤ç»™å®¢æˆ·ï¼›PostgreSQLåœ¨åˆæ³•æ€§éš¾æ–¹é¢åšå¾—æ¯”è¾ƒä¸¥æ ¼ã€‚æ¯”å¦‚MySQLé‡Œæ’å…¥ "2012-02-30" è¿™ä¸ªæ—¶é—´æ—¶ï¼Œä¼šæˆåŠŸï¼Œä½†ç»“æœä¼šæ˜¯ "0000-00-00"ï¼›PostgreSQLä¸å…è®¸æ’å…¥æ­¤å€¼ã€‚</p>
<p>é€šå¸¸ï¼ŒPostgreSQL è¢«è®¤ä¸ºç‰¹æ€§ä¸°å¯Œï¼Œè€ŒMySQLè¢«è®¤ä¸ºé€Ÿåº¦æ›´å¿«ã€‚ä½†è¿™ä¸ªè§‚ç‚¹åŸºæœ¬æ˜¯åœ¨ MySQL 4.x / PostgreSQL 7.x çš„äº‹æƒ…ï¼Œç°åœ¨æƒ…å†µå·²ç»å˜äº†ï¼ŒPostgreSQL åœ¨9.xç‰ˆæœ¬é€Ÿåº¦ä¸Šæœ‰äº†å¾ˆå¤§çš„æ”¹è¿›ï¼Œè€ŒMySQLç‰¹æ€§ä¹Ÿåœ¨å¢åŠ [3]ã€‚</p>
<p>åœ¨æ¶æ„ä¸Šï¼ŒMySQLåˆ†ä¸ºä¸¤å±‚ï¼šä¸Šå±‚çš„SQLå±‚å’Œå‡ ä¸ªå­˜å‚¨å¼•æ“ï¼ˆæ¯”å¦‚InnoDBï¼ŒMyISAMï¼‰ã€‚PostgreSQL åªæœ‰ä¸€ä¸ªå­˜å‚¨å¼•æ“æä¾›è¿™ä¸¤ä¸ªåŠŸèƒ½ã€‚</p>
<p>è¿™ä¸¤ä¸ªæ•°æ®åº“ç³»ç»Ÿéƒ½å¯ä»¥é’ˆå¯¹åº”ç”¨çš„æƒ…å¢ƒè¢«ä¼˜åŒ–ã€å®šåˆ¶ï¼Œç²¾ç¡®çš„è¯´å“ªä¸ªæ€§èƒ½æ›´å¥½å¾ˆéš¾ã€‚MySQLé¡¹ç›®ä¸€å¼€å§‹ç„¦ç‚¹å°±åœ¨é€Ÿåº¦ä¸Šï¼Œè€ŒPostgreSQLä¸€å¼€å§‹ç„¦ç‚¹åœ¨ç‰¹æ€§å’Œè§„èŒƒæ ‡å‡†ä¸Šã€‚</p>
<h2>é€‰å“ªä¸ªï¼Ÿ</h2>
<p>å¯èƒ½æ˜¯ç”±äºå†å²åŸå› MySQLåœ¨å¼€å‘è€…ä¸­æ›´æµè¡Œä¸€äº›ã€‚è‡³å°‘æˆ‘ä»¬ä¸Šå­¦æ—¶æ²¡å¬è¯´è¿‡PostgreSQLï¼Œå½“æ—¶ä¸æ˜¯MS SQL Serverå°±æ˜¯MySQLï¼Œè€ŒMySQLæ˜¯å¼€æºçš„ã€‚å®äº‹ä¸ŠPostgreSQLç›´åˆ°8.0æ‰å®˜æ–¹æ”¯æŒäº†Windowsç³»ç»Ÿã€‚</p>
<p>å¦‚æœæ²¡æœ‰ä»€ä¹ˆå†å²åŸå› ï¼ˆæ¯”å¦‚ç³»ç»Ÿå·²ç»åŸºäºMySQLå¤šå¹´äº†ï¼‰ï¼Œæˆ–æŠ€æœ¯ç§¯ç´¯åŸå› ï¼ˆåŒäº‹ä¸­MySQLé«˜æ‰‹å¤šï¼‰ï¼Œé‚£ä¹ˆæˆ‘è§‰å¾—é€‰æ‹©PostgreSQLä¸ä¼šæœ‰é”™ã€‚</p>
<p>æœ‰è¶£çš„æ˜¯ï¼Œæˆ‘åœ¨Googleä¸Šæœç´¢ "switch postgresql to mysql" æ—¶ï¼Œç»“æœä¸­ç¬¬ä¸€é¡µå…¨æ˜¯ "Switch to PostgreSQL from MySQL"ï¼Œç¬¬äºŒé¡µç»ˆäºæœ‰ä¸ªæ˜¯from PostgreSQL to MySQLï¼Œä¸è¿‡åªæœ‰å®ƒä¸€ä¸ªï¼Œè€Œä¸”åŸå› ä¸æ˜¯è¯´PostgreSQLä¸å¥½ï¼Œè€Œæ˜¯å› ä¸ºä½œè€…MySQLç»éªŒå¤šäº›[4]ã€‚</p>
<h2>é™„å½•ï¼šç®€å•æµ‹è¯•</h2>
<p>æœ€åé™„ä¸Šæˆ‘è‡ªå·±å¯¹<strong>MySQL v5.5</strong> å’Œ <strong>PostgreSQL v9.1</strong> åœ¨Mac OSï¼ŒMLä¸Šçš„ç®€å•æµ‹è¯•ã€‚MySQLæ˜¯ç”¨brewå®‰è£…çš„ï¼ŒPostgreSQLç”¨çš„æ˜¯<a href="http://mitnk.com/98/">Herokuæä¾›çš„appç»¿è‰²ç‰ˆæœ¬</a>ã€‚å› ä¸ºéƒ½æ˜¯é»˜è®¤å®‰è£…ï¼Œé»˜è®¤çš„é…ç½®ï¼Œæ‰€ä»¥æ¯”è¾ƒç»“æœåªæ˜¯æ‹¿æ¥å‚è€ƒã€‚</p>
<p>è¡¨ç»“æ„ï¼š</p>
<div class="highlight"><pre>Column       |           Type           | Modifiers 
-------------------+--------------------------+-----------
 id                | bigint                   | not null
 created_at        | timestamp with time zone | not null
 from_user         | character varying(40)    | not null
 from_user_id      | bigint                   | not null
 from_user_name    | character varying(40)    | not null
 geo               | character varying(256)   | not null
 iso_language_code | character varying(8)     | not null
 source            | character varying(64)    | not null
 text              | character varying(170)   | not null
 to_user           | character varying(40)    | not null
 to_user_id        | bigint                   | not null
 to_user_name      | character varying(40)    | not null
Indexes:
    "tweets_tweet_test_pkey" PRIMARY KEY, btree (id)
</pre></div>
<p>æµ‹è¯•æ•°æ®ä¸º100wå¤šè¡ŒçœŸå®Twitteræ•°æ®ï¼š</p>
<div class="highlight"><pre>$ head -n4 out_pg.sql
INSERT INTO tweets_tweet_test VALUES (287343655826624513, '2013-01-05 07:44:00+08', 'KevinPetrollini', 395657199, 'Kevin', '', 'zh', 'web', 'ç»™æˆ‘çš„é­å­ã€‚', '', 0, '');
INSERT INTO tweets_tweet_test VALUES (287142303481597952, '2013-01-04 18:23:54+08', 'mikaweixian', 65584780, 'M I K A. ', '', 'zh', 'Instagram', 'å””çŸ¥é»è§£æ—…è¡Œè¿”ä¾†æ—¥æ—¥éƒ½è¦ºå¾—å¥½æ‚¶ âœˆ æˆ‘é‡ä¿‚ä¸ç¿’æ…£ä¸€å€‹äºº ğŸ˜’ http://t.co/qC610DU6', '', 0, '');
INSERT INTO tweets_tweet_test VALUES (287142333198266368, '2013-01-04 18:24:01+08', 'ShermaineChonq', 336528260, 'sĞ½Ã©ÑĞ¼aÑ—Ğ¹Îµ', '', 'zh', 'Twitter for Android', '"@MaymayBabyman: å¿ƒä¼šç´¯ï¼Œå› ä¸ºè‡ªå·±ä¸çŸ¥é“è¯¥åšæŒè¿˜æ˜¯æ”¾å¼ƒã€‚"', '', 0, '');
INSERT INTO tweets_tweet_test VALUES (287142517768593408, '2013-01-04 18:24:45+08', 'mottled_shadow', 135373449, 'æ–‘é©³çš„é˜´å½±', '', 'zh', 'twicca', 'èµ°è·¯æ’¸æ‰‹å§¬å·®ç‚¹ä¸€å¤´æ’åœç€çš„é¢åŒ…è½¦ä¸Šâ€¦', '', 0, '');
</pre></div>
<p><strong>INSERT 1,000,000è¡Œè®°å½•çš„é€Ÿåº¦</strong></p>
<p>MySQL: 8m22s<br/>
PostgreSQL: 9m7s</p>
<p><strong>select count(id) from tweets_tweet_test where iso_language_code = 'zh'</strong></p>
<p>MySQL: 8.3s<br/>
PostgreSQL: 0.5s</p>
<p><strong>select count(id) from tweets_tweet_test where id &gt; 286894731655512065</strong></p>
<p>MySQL: 6.3s<br/>
PostgreSQL: 1.5s</p>
<p><strong>select count(id) from tweets_tweet_test where text like '%å¥½çš„%'</strong></p>
<p>MySQL: 9.4s<br/>
PostgreSQL: 1.0s</p>
<p><strong>select id, text from tweets_tweet_test where text like '%xysdfljhsdf%'</strong></p>
<p>MySQL: 8.3s<br/>
PostgreSQL: 0.84s</p>
<p>[1] <a href="http://ledgersmbdev.blogspot.co.uk/2012/09/or-modelling-interlude-postgresql-vs.html">O/R modelling interlude: PostgreSQL vs MySQL</a><br/>
[2] <a href="http://dieswaytoofast.blogspot.jp/2012/09/mysql-vs-postgres-vs-mongodb.html">MYSQL VS POSTGRES (VS MONGODB)</a><br/>
[3] <a href="http://www.wikivs.com/wiki/MySQL_vs_PostgreSQL">WikiVS: MySQL vs PostgreSQL</a><br/>
[4] <a href="http://meta.osqa.net/questions/12614/how-to-move-bitnami-osqa-stack-from-postgresql-to-mysql">How to move Bitnami OSQA stack from postgresql to mysql</a></p>
        </div>
    </article>

    <div class="entry-meta">
        Posted at June 15, 2014
    </div>

</div>

    </div>

    <div id="footer">
      Power by <a href="http://twitter.com/mitnk">@mitnk</a> 2012
    </div>
</div>

<script type="text/javascript" src="/media/js/main.js"> </script>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-18137446-1']);
  _gaq.push(['_setDomainName', '.mitnk.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</body>
</html>
