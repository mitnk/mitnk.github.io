ä¸ºäº†å¼„æ˜Žç™½PostgreSQLå’ŒMySQLçš„å·®åˆ«ï¼Œæˆ‘æœç´¢äº†å…³é”®å­—ï¼šMySQL vs PostgreSQLï¼Œå¹¶çœ‹äº†ç¬¬ä¸€é¡µçš„å‡ ä¸ªæ–‡ç« ã€‚ä»¥ä¸‹æ˜¯ç®€å•æ€»ç»“ï¼š

MySQLä¸ŽPostgreSQLçš„åŒºåˆ«
------------------

MySQLæ˜¯åº”ç”¨å¼€å‘è€…åˆ›å»ºå‡ºæ¥çš„DBMSï¼›è€ŒPostgreSQLæ˜¯ç”±æ•°æ®åº“å¼€å‘è€…åˆ›å»ºå‡ºæ¥çš„DBMS [1]ã€‚

æ¢å¥è¯è¯´ï¼ŒMySQLå€¾å‘äºŽä½¿ç”¨è€…çš„è§’åº¦ï¼Œå›žç­”çš„é—®é¢˜æ˜¯ â€œä½ æƒ³è§£å†³çš„æ˜¯ä»€ä¹ˆé—®é¢˜â€ï¼›è€ŒPostgreSQLå€¾å‘äºŽç†è®ºè§’åº¦ï¼Œå›žç­”çš„é—®é¢˜æ˜¯ â€œæ•°æ®åº“åº”è¯¥å¦‚ä½•æ¥è§£å†³é—®é¢˜â€ [2]ã€‚

MySQLä¸€èˆ¬ä¼šå°†æ•°æ®åˆæ³•æ€§éªŒè¯äº¤ç»™å®¢æˆ·ï¼›PostgreSQLåœ¨åˆæ³•æ€§éš¾æ–¹é¢åšå¾—æ¯”è¾ƒä¸¥æ ¼ã€‚æ¯”å¦‚MySQLé‡Œæ’å…¥ "2012-02-30" è¿™ä¸ªæ—¶é—´æ—¶ï¼Œä¼šæˆåŠŸï¼Œä½†ç»“æžœä¼šæ˜¯ "0000-00-00"ï¼›PostgreSQLä¸å…è®¸æ’å…¥æ­¤å€¼ã€‚

é€šå¸¸ï¼ŒPostgreSQL è¢«è®¤ä¸ºç‰¹æ€§ä¸°å¯Œï¼Œè€ŒMySQLè¢«è®¤ä¸ºé€Ÿåº¦æ›´å¿«ã€‚ä½†è¿™ä¸ªè§‚ç‚¹åŸºæœ¬æ˜¯åœ¨ MySQL 4.x / PostgreSQL 7.x çš„äº‹æƒ…ï¼ŒçŽ°åœ¨æƒ…å†µå·²ç»å˜äº†ï¼ŒPostgreSQL åœ¨9.xç‰ˆæœ¬é€Ÿåº¦ä¸Šæœ‰äº†å¾ˆå¤§çš„æ”¹è¿›ï¼Œè€ŒMySQLç‰¹æ€§ä¹Ÿåœ¨å¢žåŠ [3]ã€‚

åœ¨æž¶æž„ä¸Šï¼ŒMySQLåˆ†ä¸ºä¸¤å±‚ï¼šä¸Šå±‚çš„SQLå±‚å’Œå‡ ä¸ªå­˜å‚¨å¼•æ“Žï¼ˆæ¯”å¦‚InnoDBï¼ŒMyISAMï¼‰ã€‚PostgreSQL åªæœ‰ä¸€ä¸ªå­˜å‚¨å¼•æ“Žæä¾›è¿™ä¸¤ä¸ªåŠŸèƒ½ã€‚

è¿™ä¸¤ä¸ªæ•°æ®åº“ç³»ç»Ÿéƒ½å¯ä»¥é’ˆå¯¹åº”ç”¨çš„æƒ…å¢ƒè¢«ä¼˜åŒ–ã€å®šåˆ¶ï¼Œç²¾ç¡®çš„è¯´å“ªä¸ªæ€§èƒ½æ›´å¥½å¾ˆéš¾ã€‚MySQLé¡¹ç›®ä¸€å¼€å§‹ç„¦ç‚¹å°±åœ¨é€Ÿåº¦ä¸Šï¼Œè€ŒPostgreSQLä¸€å¼€å§‹ç„¦ç‚¹åœ¨ç‰¹æ€§å’Œè§„èŒƒæ ‡å‡†ä¸Šã€‚

é€‰å“ªä¸ªï¼Ÿ
-----

å¯èƒ½æ˜¯ç”±äºŽåŽ†å²åŽŸå› MySQLåœ¨å¼€å‘è€…ä¸­æ›´æµè¡Œä¸€äº›ã€‚è‡³å°‘æˆ‘ä»¬ä¸Šå­¦æ—¶æ²¡å¬è¯´è¿‡PostgreSQLï¼Œå½“æ—¶ä¸æ˜¯MS SQL Serverå°±æ˜¯MySQLï¼Œè€ŒMySQLæ˜¯å¼€æºçš„ã€‚å®žäº‹ä¸ŠPostgreSQLç›´åˆ°8.0æ‰å®˜æ–¹æ”¯æŒäº†Windowsç³»ç»Ÿã€‚

å¦‚æžœæ²¡æœ‰ä»€ä¹ˆåŽ†å²åŽŸå› ï¼ˆæ¯”å¦‚ç³»ç»Ÿå·²ç»åŸºäºŽMySQLå¤šå¹´äº†ï¼‰ï¼Œæˆ–æŠ€æœ¯ç§¯ç´¯åŽŸå› ï¼ˆåŒäº‹ä¸­MySQLé«˜æ‰‹å¤šï¼‰ï¼Œé‚£ä¹ˆæˆ‘è§‰å¾—é€‰æ‹©PostgreSQLä¸ä¼šæœ‰é”™ã€‚

æœ‰è¶£çš„æ˜¯ï¼Œæˆ‘åœ¨Googleä¸Šæœç´¢ "switch postgresql to mysql" æ—¶ï¼Œç»“æžœä¸­ç¬¬ä¸€é¡µå…¨æ˜¯ "Switch to PostgreSQL from MySQL"ï¼Œç¬¬äºŒé¡µç»ˆäºŽæœ‰ä¸ªæ˜¯from PostgreSQL to MySQLï¼Œä¸è¿‡åªæœ‰å®ƒä¸€ä¸ªï¼Œè€Œä¸”åŽŸå› ä¸æ˜¯è¯´PostgreSQLä¸å¥½ï¼Œè€Œæ˜¯å› ä¸ºä½œè€…MySQLç»éªŒå¤šäº›[4]ã€‚

é™„å½•ï¼šç®€å•æµ‹è¯•
--------------

æœ€åŽé™„ä¸Šæˆ‘è‡ªå·±å¯¹**MySQL v5.5** å’Œ **PostgreSQL v9.1** åœ¨Mac OSï¼ŒMLä¸Šçš„ç®€å•æµ‹è¯•ã€‚MySQLæ˜¯ç”¨brewå®‰è£…çš„ï¼ŒPostgreSQLç”¨çš„æ˜¯[Herokuæä¾›çš„appç»¿è‰²ç‰ˆæœ¬](http://mitnk.com/98/)ã€‚å› ä¸ºéƒ½æ˜¯é»˜è®¤å®‰è£…ï¼Œé»˜è®¤çš„é…ç½®ï¼Œæ‰€ä»¥æ¯”è¾ƒç»“æžœåªæ˜¯æ‹¿æ¥å‚è€ƒã€‚

è¡¨ç»“æž„ï¼š

    Column       |           Type           | Modifiers 
    -------------------+--------------------------+-----------
     id                | bigint                   | not null
     created_at        | timestamp with time zone | not null
     from_user         | character varying(40)    | not null
     from_user_id      | bigint                   | not null
     from_user_name    | character varying(40)    | not null
     geo               | character varying(256)   | not null
     iso_language_code | character varying(8)     | not null
     source            | character varying(64)    | not null
     text              | character varying(170)   | not null
     to_user           | character varying(40)    | not null
     to_user_id        | bigint                   | not null
     to_user_name      | character varying(40)    | not null
    Indexes:
        "tweets_tweet_test_pkey" PRIMARY KEY, btree (id)


æµ‹è¯•æ•°æ®ä¸º100wå¤šè¡ŒçœŸå®žTwitteræ•°æ®ï¼š

    $ head -n4 out_pg.sql
    INSERT INTO tweets_tweet_test VALUES (287343655826624513, '2013-01-05 07:44:00+08', 'KevinPetrollini', 395657199, 'Kevin', '', 'zh', 'web', 'ç»™æˆ‘çš„éž­å­ã€‚', '', 0, '');
    INSERT INTO tweets_tweet_test VALUES (287142303481597952, '2013-01-04 18:23:54+08', 'mikaweixian', 65584780, 'M I K A. ', '', 'zh', 'Instagram', 'å””çŸ¥é»žè§£æ—…è¡Œè¿”ä¾†æ—¥æ—¥éƒ½è¦ºå¾—å¥½æ‚¶ âœˆ æˆ‘é‡ä¿‚ä¸ç¿’æ…£ä¸€å€‹äºº ðŸ˜’ http://t.co/qC610DU6', '', 0, '');
    INSERT INTO tweets_tweet_test VALUES (287142333198266368, '2013-01-04 18:24:01+08', 'ShermaineChonq', 336528260, 'sÐ½Ã©ÑÐ¼aÑ—Ð¹Îµ', '', 'zh', 'Twitter for Android', '"@MaymayBabyman: å¿ƒä¼šç´¯ï¼Œå› ä¸ºè‡ªå·±ä¸çŸ¥é“è¯¥åšæŒè¿˜æ˜¯æ”¾å¼ƒã€‚"', '', 0, '');
    INSERT INTO tweets_tweet_test VALUES (287142517768593408, '2013-01-04 18:24:45+08', 'mottled_shadow', 135373449, 'æ–‘é©³çš„é˜´å½±', '', 'zh', 'twicca', 'èµ°è·¯æ’¸æ‰‹å§¬å·®ç‚¹ä¸€å¤´æ’žåœç€çš„é¢åŒ…è½¦ä¸Šâ€¦', '', 0, '');

**INSERT 1,000,000è¡Œè®°å½•çš„é€Ÿåº¦**

MySQL: 8m22s  
PostgreSQL: 9m7s

**select count(id) from tweets_tweet_test where iso_language_code = 'zh'**

MySQL: 8.3s  
PostgreSQL: 0.5s


**select count(id) from tweets_tweet_test where id > 286894731655512065**

MySQL: 6.3s  
PostgreSQL: 1.5s


**select count(id) from tweets_tweet_test where text like '%å¥½çš„%'**

MySQL: 9.4s  
PostgreSQL: 1.0s


**select id, text from tweets_tweet_test where text like '%xysdfljhsdf%'**

MySQL: 8.3s  
PostgreSQL: 0.84s

[1] [O/R modelling interlude: PostgreSQL vs MySQL](http://ledgersmbdev.blogspot.co.uk/2012/09/or-modelling-interlude-postgresql-vs.html)  
[2] [MYSQL VS POSTGRES (VS MONGODB)](http://dieswaytoofast.blogspot.jp/2012/09/mysql-vs-postgres-vs-mongodb.html)  
[3] [WikiVS: MySQL vs PostgreSQL](http://www.wikivs.com/wiki/MySQL_vs_PostgreSQL)  
[4] [How to move Bitnami OSQA stack from postgresql to mysql](http://meta.osqa.net/questions/12614/how-to-move-bitnami-osqa-stack-from-postgresql-to-mysql)